{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/dgulyasar/Desktop/reactApp/pokemonwar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dgulyasar/Desktop/reactApp/pokemonwar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dgulyasar/Desktop/reactApp/pokemonwar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dgulyasar/Desktop/reactApp/pokemonwar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import L,{map,marker}from'leaflet';var mymap,circle;var markers=[];var Map=/*#__PURE__*/function(_React$Component){_inherits(Map,_React$Component);var _super=_createSuper(Map);function Map(){var _this;_classCallCheck(this,Map);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={logs:\"\",insideMap:[],x:0,y:0,pokemon:null,pokemonsFaction1:[{Name:\"Pikachu\",Icon:\"https://www.flaticon.com/svg/static/icons/svg/188/188987.svg\",AttackPower:null,DefensePower:null,TotalHealth:null,id:1,canUsable:true},{Name:\"Bulbasaur\",Icon:\"http://www.rw-designer.com/icon-image/14434-256x256x8.png\",AttackPower:null,DefensePower:null,TotalHealth:null,id:2,canUsable:true},{Name:\"Snorlax\",Icon:\"https://www.flaticon.com/svg/static/icons/svg/189/189001.svg\",AttackPower:null,DefensePower:null,TotalHealth:null,id:3,canUsable:true},{Name:\"Charizard\",Icon:\"https://cdn.dribbble.com/users/1088894/screenshots/2631953/charizard-shot.jpg?compress=1&resize=800x600\",AttackPower:null,DefensePower:null,TotalHealth:null,id:4,canUsable:true},{Name:\"Mewtwo\",Icon:\"https://i.pinimg.com/originals/ef/07/74/ef0774a46a2116d3201c252459328540.jpg\",AttackPower:null,DefensePower:null,TotalHealth:null,id:5,canUsable:true},{Name:\"Ditto\",Icon:\"https://cdn2.iconfinder.com/data/icons/pokemon-filledoutline/64/ditto-pokemon-nintendo-video-game-gaming-gartoon-monster-512.png\",AttackPower:null,DefensePower:null,TotalHealth:null,id:6,canUsable:true}]};_this.createArea=function(xCoor,yCoor){_this.state.x=xCoor;_this.state.y=yCoor;if(!mymap){mymap=L.map('mapid').setView([51.505,-0.09],13);}else{circle=L.circle([_this.state.x,_this.state.y],{color:'red',fillColor:'red',fillOpacity:0.5,radius:1500}).addTo(mymap);}_this.render();};_this.setAttack=function(idMarker){if(_this.prevIdMarker!=idMarker){//Simulation\n//console.log(\"Insıde map: \" + idMarker)\nvar attackFrom,attackTo;attackFrom=prompt(\"Attack From (id):\");attackTo=prompt(\"Attack To (id):\");attackFrom-=1;attackTo-=1;if(attackFrom+1<=3){if(attackTo+1>3){var distanceAttDef=_this.state.pokemonsFaction1[attackFrom].AttackPower-_this.state.pokemonsFaction1[attackTo].DefensePower;if(distanceAttDef>0){_this.state.pokemonsFaction1[attackTo].TotalHealth=_this.state.pokemonsFaction1[attackTo].TotalHealth-distanceAttDef;}alert(_this.state.pokemonsFaction1[attackFrom].Name+\" attacked to \"+_this.state.pokemonsFaction1[attackTo].Name+\" it damages:\"+distanceAttDef+\" health of attacked: \"+_this.state.pokemonsFaction1[attackTo].TotalHealth);if(_this.state.pokemonsFaction1[attackTo].TotalHealth<=0){_this.prevIdMarker=idMarker;_this.state.pokemonsFaction1[attackTo-1].canUsable=false;alert(_this.state.pokemonsFaction1[attackTo].Name+\" is defeat!\");var new_markers=[];markers.forEach(function(marker){if(marker._id==idMarker)mymap.removeLayer(marker);else new_markers.push(marker);});markers=new_markers;}}else{alert(\"Cannot attack same faction! Please do not try again -_-\");}_this.prevIdMarker=idMarker;}else if(attackFrom+1>3){if(attackTo+1<=3){var _distanceAttDef=_this.state.pokemonsFaction1[attackFrom].AttackPower-_this.state.pokemonsFaction1[attackTo].DefensePower;if(_distanceAttDef>0){_this.state.pokemonsFaction1[attackTo].TotalHealth=_this.state.pokemonsFaction1[attackTo].TotalHealth-_distanceAttDef;}_this.state.pokemonsFaction1[attackTo].TotalHealth=_this.state.pokemonsFaction1[attackTo].TotalHealth-_distanceAttDef;console.log(_this.state.pokemonsFaction1[attackTo]);alert(_this.state.pokemonsFaction1[attackFrom].Name+\" attacked to \"+_this.state.pokemonsFaction1[attackTo].Name+\" it damages:\"+_distanceAttDef+\" health of attacked: \"+_this.state.pokemonsFaction1[attackTo].TotalHealth);_this.prevIdMarker=idMarker;if(_this.state.pokemonsFaction1[attackTo].TotalHealth<=0){_this.prevIdMarker=idMarker;//this.state.pokemonsFaction1[attackTo - 1].canUsable = false\nalert(_this.state.pokemonsFaction1[attackTo].Name+\" is defeat!\");var new_markers=[];markers.forEach(function(marker){if(marker._id==idMarker)mymap.removeLayer(marker);else new_markers.push(marker);});markers=new_markers;}}else{alert(\"Cannot attack same faction! Please do not try again -_-\");}}}};_this.setChanges=function(pokemonProp){if(_this.state.pokemonsFaction1[pokemonProp.id-1].canUsable){var pokemonIcon=L.icon({iconUrl:pokemonProp.Icon,shadowUrl:pokemonProp.Icon,iconSize:[38,64],shadowSize:[0,0],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]});//Adds Marker to the map\nvar idMarker;if(markers.length<1)idMarker=0;else idMarker=markers[markers.length-1]._id+1;_this.pokemon1=L.marker([_this.state.x,_this.state.y],{icon:pokemonIcon,draggable:true}).on('click',function(){_this.pokemon1.bindPopup(pokemonProp.Name+\"<b> <br /> Please click icon one more to set attributes of pokemon <br /> After set attributes next click will attack </b>\").openPopup().on('click',function(){if(_this.state.pokemonsFaction1[pokemonProp.id-1].AttackPower==null){_this.Attack();}else{if(_this.state.insideMap.some(function(e){return e<3;})&&_this.state.insideMap.some(function(e){return e>3;})){_this.setAttack(idMarker);}}});});_this.pokemon1._id=idMarker;mymap.addLayer(_this.pokemon1);markers.push(_this.pokemon1);var firstLat=_this.pokemon1.getLatLng().lat;var firstLng=_this.pokemon1.getLatLng().lng;var pokemon2=_this.pokemon1;_this.pokemon1.on('dragend',function(e){var currentLat=pokemon2.getLatLng().lat;var currentLng=pokemon2.getLatLng().lng;if(currentLat<firstLat+0.01&&currentLat>firstLat-0.01&&currentLng<firstLng+0.025&&currentLng>firstLng-0.025){document.getElementById('latitude').value=currentLat;document.getElementById('longitude').value=currentLng;}else{pokemon2.getLatLng().lat=firstLat;pokemon2.getLatLng().lng=firstLng;}});}};_this.Attack=function(){var pokemonId=_this.props.pokemonId.id-1;if(_this.state.pokemonsFaction1[pokemonId].canUsable){var attPow=prompt(\"Attack Power\");var defPow=prompt(\"Defense Power\");var totHealth=prompt(\"Total Health\");if(attPow!=null){_this.state.pokemonsFaction1[pokemonId].AttackPower=attPow;}else{alert(\"Cannot use as null\");}if(defPow!=null){_this.state.pokemonsFaction1[pokemonId].DefensePower=defPow;}else{alert(\"Cannot use as null\");}if(totHealth!=null){_this.state.pokemonsFaction1[pokemonId].TotalHealth=totHealth;}else{alert(\"Cannot use as null\");}_this.state.pokemonsFaction1[pokemonId].canUsable=false;_this.state.insideMap.push(pokemonId+1);}};return _this;}_createClass(Map,[{key:\"componentDidMount\",value:function componentDidMount(){var prevIdMarker;mymap=L.map('mapid').setView([51.505,-0.09],13);var pokemon1;//var pokemon1 = L.marker([x, y]).addTo(mymap);\n//var pokemon2 = L.marker([51.5, -0.10]).addTo(mymap);\n/*\n       \n        */L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}',{attribution:'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',maxZoom:18,id:'mapbox/streets-v11',tileSize:512,zoomOffset:-1,accessToken:'pk.eyJ1IjoiZGd1bHlhc2FyIiwiYSI6ImNrajYwZjdoYzYzNTIyc2xiNGkwZHFibW0ifQ.mqAXzMxXZJ197aIL5DsOQA'}).addTo(mymap);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic mixed styles example\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){_this2.createArea(prompt(\"X (Location of see in map 51.505)\"),prompt(\"Y (Location of see in map -0.09)\"));},children:\"Create area \"})}),/*#__PURE__*/_jsxs(\"form\",{hidden:true,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"latitude\",children:\"Latitude:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"latitude\",type:\"text\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"longitude\",children:\"Longitude:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"longitude\",type:\"text\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"mapid\",style:{width:\"100%\",height:\"800px\"}}),this.props.pokemonId!=null?this.setChanges(this.props.pokemonId):null]});}}]);return Map;}(React.Component);;export default Map;","map":{"version":3,"sources":["/home/dgulyasar/Desktop/reactApp/pokemonwar/src/components/Map.js"],"names":["React","L","map","marker","mymap","circle","markers","Map","state","logs","insideMap","x","y","pokemon","pokemonsFaction1","Name","Icon","AttackPower","DefensePower","TotalHealth","id","canUsable","createArea","xCoor","yCoor","setView","color","fillColor","fillOpacity","radius","addTo","render","setAttack","idMarker","prevIdMarker","attackFrom","attackTo","prompt","distanceAttDef","alert","new_markers","forEach","_id","removeLayer","push","console","log","setChanges","pokemonProp","pokemonIcon","icon","iconUrl","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","length","pokemon1","draggable","on","bindPopup","openPopup","Attack","some","e","addLayer","firstLat","getLatLng","lat","firstLng","lng","pokemon2","currentLat","currentLng","document","getElementById","value","pokemonId","props","attPow","defPow","totHealth","tileLayer","attribution","maxZoom","tileSize","zoomOffset","accessToken","width","height","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport L, { map, marker } from 'leaflet';\n\n\nvar mymap, circle;\n\n\nvar markers = [];\nclass Map extends React.Component {\n\n    state = {\n        logs: \"\",\n        insideMap: [],\n        x: 0,\n        y: 0,\n        pokemon: null,\n        pokemonsFaction1: [\n            {\n                Name: \"Pikachu\",\n                Icon: \"https://www.flaticon.com/svg/static/icons/svg/188/188987.svg\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 1,\n                canUsable: true\n            },\n            {\n                Name: \"Bulbasaur\",\n                Icon: \"http://www.rw-designer.com/icon-image/14434-256x256x8.png\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 2,\n                canUsable: true\n            },\n            {\n                Name: \"Snorlax\",\n                Icon: \"https://www.flaticon.com/svg/static/icons/svg/189/189001.svg\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 3,\n                canUsable: true\n            },\n            {\n                Name: \"Charizard\",\n                Icon: \"https://cdn.dribbble.com/users/1088894/screenshots/2631953/charizard-shot.jpg?compress=1&resize=800x600\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 4,\n                canUsable: true\n            },\n            {\n                Name: \"Mewtwo\",\n                Icon: \"https://i.pinimg.com/originals/ef/07/74/ef0774a46a2116d3201c252459328540.jpg\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 5,\n                canUsable: true\n            },\n            {\n                Name: \"Ditto\",\n                Icon: \"https://cdn2.iconfinder.com/data/icons/pokemon-filledoutline/64/ditto-pokemon-nintendo-video-game-gaming-gartoon-monster-512.png\",\n                AttackPower: null,\n                DefensePower: null,\n                TotalHealth: null,\n                id: 6,\n                canUsable: true\n            }\n        ]\n    }\n\n\n\n    componentDidMount() {\n        let prevIdMarker\n        mymap = L.map('mapid').setView([51.505, -0.09], 13);\n        var pokemon1;\n\n\n\n        //var pokemon1 = L.marker([x, y]).addTo(mymap);\n        //var pokemon2 = L.marker([51.5, -0.10]).addTo(mymap);\n\n        /*\n       \n        */\n\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'mapbox/streets-v11',\n            tileSize: 512,\n            zoomOffset: -1,\n            accessToken: 'pk.eyJ1IjoiZGd1bHlhc2FyIiwiYSI6ImNrajYwZjdoYzYzNTIyc2xiNGkwZHFibW0ifQ.mqAXzMxXZJ197aIL5DsOQA'\n        }).addTo(mymap);\n\n    }\n\n    componentDidUpdate() {\n\n\n    }\n\n\n    createArea = (xCoor, yCoor) => {\n        this.state.x = xCoor;\n        this.state.y = yCoor;\n\n        if (!mymap) {\n            mymap = L.map('mapid').setView([51.505, -0.09], 13);\n        } else {\n            circle = L.circle([this.state.x, this.state.y], {\n                color: 'red',\n                fillColor: 'red',\n                fillOpacity: 0.5,\n                radius: 1500\n            }).addTo(mymap);\n        }\n\n        this.render();\n\n    }\n\n\n    setAttack = (idMarker) => {\n\n        if (this.prevIdMarker != idMarker) {\n            \n            //Simulation\n            \n            //console.log(\"Insıde map: \" + idMarker)\n            let attackFrom, attackTo;\n\n            attackFrom = prompt(\"Attack From (id):\")\n            attackTo = prompt(\"Attack To (id):\")\n            attackFrom -= 1\n            attackTo -= 1\n\n            if (attackFrom +1 <= 3) {\n                if (attackTo +1 > 3) {\n                    let distanceAttDef = this.state.pokemonsFaction1[attackFrom].AttackPower - this.state.pokemonsFaction1[attackTo].DefensePower;\n                    if(distanceAttDef>0) {\n                        this.state.pokemonsFaction1[attackTo].TotalHealth = this.state.pokemonsFaction1[attackTo].TotalHealth - distanceAttDef;\n                    }\n                    alert(this.state.pokemonsFaction1[attackFrom].Name + \" attacked to \" + this.state.pokemonsFaction1[attackTo].Name + \" it damages:\" + distanceAttDef + \" health of attacked: \" + this.state.pokemonsFaction1[attackTo].TotalHealth)\n                    \n                    if (this.state.pokemonsFaction1[attackTo].TotalHealth <= 0) {\n                        this.prevIdMarker = idMarker\n                        this.state.pokemonsFaction1[attackTo - 1].canUsable = false\n                        alert(this.state.pokemonsFaction1[attackTo].Name + \" is defeat!\")\n                        var new_markers = []\n                        markers.forEach(function (marker) {\n                            if (marker._id == idMarker) mymap.removeLayer(marker)\n                            else new_markers.push(marker)\n                        })\n                        markers = new_markers\n\n                    }\n                } else {\n                    alert(\"Cannot attack same faction! Please do not try again -_-\")\n                }\n                this.prevIdMarker = idMarker\n            } else if (attackFrom +1  > 3) {\n                if (attackTo +1 <= 3) {\n                    let distanceAttDef = this.state.pokemonsFaction1[attackFrom].AttackPower - this.state.pokemonsFaction1[attackTo].DefensePower;\n                    if(distanceAttDef>0) {\n                        this.state.pokemonsFaction1[attackTo].TotalHealth = this.state.pokemonsFaction1[attackTo].TotalHealth - distanceAttDef;\n                    }\n                    this.state.pokemonsFaction1[attackTo].TotalHealth = this.state.pokemonsFaction1[attackTo].TotalHealth - distanceAttDef;\n                    console.log(this.state.pokemonsFaction1[attackTo])\n                    alert(this.state.pokemonsFaction1[attackFrom].Name + \" attacked to \" + this.state.pokemonsFaction1[attackTo].Name + \" it damages:\" + distanceAttDef + \" health of attacked: \" + this.state.pokemonsFaction1[attackTo].TotalHealth)\n                    this.prevIdMarker = idMarker\n                    if (this.state.pokemonsFaction1[attackTo].TotalHealth <= 0) {\n                        this.prevIdMarker = idMarker\n                        //this.state.pokemonsFaction1[attackTo - 1].canUsable = false\n                        alert(this.state.pokemonsFaction1[attackTo].Name + \" is defeat!\")\n                        var new_markers = []\n                        markers.forEach(function (marker) {\n                            if (marker._id == idMarker) mymap.removeLayer(marker)\n                            else new_markers.push(marker)\n                        })\n                        markers = new_markers\n\n                    }\n                } else {\n                    alert(\"Cannot attack same faction! Please do not try again -_-\")\n                }\n            }\n        }\n\n\n    }\n\n    setChanges = (pokemonProp) => {\n        if (this.state.pokemonsFaction1[pokemonProp.id - 1].canUsable) {\n\n            var pokemonIcon = L.icon({\n                iconUrl: pokemonProp.Icon,\n                shadowUrl: pokemonProp.Icon,\n\n                iconSize: [38, 64],\n                shadowSize: [0, 0],\n                iconAnchor: [22, 94],\n                shadowAnchor: [4, 62],\n                popupAnchor: [-3, -76]\n\n            });\n\n            //Adds Marker to the map\n\n            var idMarker;\n            if (markers.length < 1) idMarker = 0\n            else idMarker = markers[markers.length - 1]._id + 1\n\n\n            this.pokemon1 = L.marker([this.state.x, this.state.y], { icon: pokemonIcon, draggable: true }).on('click', () => {\n                this.pokemon1.bindPopup(\n                    pokemonProp.Name + \"<b> <br /> Please click icon one more to set attributes of pokemon <br /> After set attributes next click will attack </b>\"\n\n                ).openPopup().on('click', () => {\n                    if (this.state.pokemonsFaction1[pokemonProp.id - 1].AttackPower == null) {\n                        this.Attack()\n                    } else {\n\n                        if (this.state.insideMap.some(e => {\n                            return e < 3\n                        }) && this.state.insideMap.some(e => {\n                            return e > 3\n                        })) {\n                            this.setAttack(idMarker)\n                        }\n                    }\n                });\n            });\n\n\n            this.pokemon1._id = idMarker\n            mymap.addLayer(this.pokemon1)\n            markers.push(this.pokemon1)\n\n            let firstLat = this.pokemon1.getLatLng().lat;\n            let firstLng = this.pokemon1.getLatLng().lng;\n            let pokemon2 = this.pokemon1\n\n            this.pokemon1.on('dragend', function (e) {\n                let currentLat = pokemon2.getLatLng().lat;\n                let currentLng = pokemon2.getLatLng().lng;\n                if (currentLat < (firstLat) + 0.01 && currentLat > (firstLat) - 0.01 && currentLng < (firstLng) + 0.025 && currentLng > (firstLng) - 0.025) {\n                    document.getElementById('latitude').value = currentLat;\n                    document.getElementById('longitude').value = currentLng\n                } else {\n                    pokemon2.getLatLng().lat = firstLat;\n                    pokemon2.getLatLng().lng = firstLng;\n                }\n            });\n        }\n    }\n\n\n    Attack = () => {\n        let pokemonId = this.props.pokemonId.id - 1\n        if (this.state.pokemonsFaction1[pokemonId].canUsable) {\n            let attPow = prompt(\"Attack Power\")\n            let defPow = prompt(\"Defense Power\")\n            let totHealth = prompt(\"Total Health\")\n            if (attPow != null) {\n                this.state.pokemonsFaction1[pokemonId].AttackPower = attPow\n            } else {\n                alert(\"Cannot use as null\")\n            }\n\n            if (defPow != null) {\n                this.state.pokemonsFaction1[pokemonId].DefensePower = defPow\n            } else {\n                alert(\"Cannot use as null\")\n            }\n\n            if (totHealth != null) {\n                this.state.pokemonsFaction1[pokemonId].TotalHealth = totHealth\n            } else {\n                alert(\"Cannot use as null\")\n            }\n\n            this.state.pokemonsFaction1[pokemonId].canUsable = false\n\n            this.state.insideMap.push(pokemonId + 1)\n        }\n\n    }\n\n\n    render() {\n        return (\n            <div>\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic mixed styles example\">\n                    <button type=\"button\" className=\"btn btn-danger\" onClick={() => { this.createArea(prompt(\"X (Location of see in map 51.505)\"), prompt(\"Y (Location of see in map -0.09)\")) }}>Create area </button>\n                </div>\n\n                <form hidden>\n                    <label htmlFor=\"latitude\">Latitude:</label>\n                    <input id=\"latitude\" type=\"text\" />\n                    <label htmlFor=\"longitude\">Longitude:</label>\n                    <input id=\"longitude\" type=\"text\" />\n                </form>\n\n                <div id=\"mapid\" style={{ width: \"100%\", height: \"800px\" }} />\n\n                {this.props.pokemonId != null ? this.setChanges(this.props.pokemonId) : null}\n\n            </div>\n\n\n        );\n    }\n\n\n};\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}